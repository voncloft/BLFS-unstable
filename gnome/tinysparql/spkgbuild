# description   : Tinysparql is a low-footprint RDF triple store with a SPARQL 1
# depends       : jsonglib vala glib icu libsoup localsearch pygobject sqlite

name=tinysparql
version=3.9.2    
release=1
source="https://download.gnome.org/sources/tinysparql/3.9/tinysparql-$version.tar.xz"

options="!checksum"

build() {
    cd $name-$version
    
    sed -e "s/'generate'/, '--no-namespace-dir'/"         \
    -e "/--output-dir/s/@OUTPUT@/\/tinysparql-$version/" \
    -i docs/reference/meson.build
    mkdir build 
    cd    build 
    meson setup --prefix=/usr                  \
    --buildtype=release            \
    -D man=false                   \
    -D systemd_user_services=false \
    ..                            
    ninja
    DESTDIR=$PKG ninja install
}
