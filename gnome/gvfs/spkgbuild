# description   : The Gvfs package is a userspace virtual filesystem designed to work with the I/O abstractions of GLib's GIO library
# depends       : dbus glib gcr libusb libsecret gtk libcdio libgudev libsoup udisks

name=gvfs
version=1.56.1    
release=1
source="https://download.gnome.org/sources/gvfs/1.56/gvfs-$version.tar.xz"

options="!checksum"

build() {
    cd $name-$version
    
    mkdir build 
    cd    build 
    meson setup               \
    --prefix=/usr       \
    --buildtype=release \
    -D onedrive=false   \
    -D fuse=false       \
    -D gphoto2=false    \
    -D afc=false        \
    -D bluray=false     \
    -D nfs=false        \
    -D mtp=false        \
    -D smb=false        \
    -D tmpfilesdir=no   \
    -D dnssd=false      \
    -D goa=false        \
    -D google=false     \
    -D systemduserunitdir=no .. 
    ninja
    DESTDIR=$PKG ninja install
    glib-compile-schemas /usr/share/glib-2.0/schemas
}
