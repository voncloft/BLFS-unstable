# description   : Gjs is a set of Javascript bindings for GNOME
# depends       : cairo dbus glib spidermonkeyfrom firefox gtk gtk

name=gjs
version=1.84.2    
release=1
source="https://download.gnome.org/sources/gjs/1.84/gjs-$version.tar.xz
https://www.linuxfromscratch.org/patches/blfs/svn/gjs-$version-spidermonkey_140-1.patch"

options="!checksum"

build() {
    cd $name-$version
    
    patch -Np1 -i ../gjs-$version-spidermonkey_140-1.patch
    mkdir gjs-build 
    cd    gjs-build 
    meson setup --prefix=/usr          \
    --buildtype=release    \
    --wrap-mode=nofallback \
    ..                     
    ninja
    DESTDIR=$PKG ninja install
}
