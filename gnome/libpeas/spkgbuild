# description   : libpeas is a GObject based plugins engine, and is targeted at giving every application the chance to assume its own extensibility
# depends       : glib gtk libxml2

name=libpeas
version=1.36.0    
release=1
source="https://download.gnome.org/sources/libpeas/1.36/libpeas-$version.tar.xz
https://www.lua.org/ftp/lua-5.1.5.tar.gz"

options="!checksum"

build() {
    cd $name-$version
    
    mkdir build 
    cd    build 
    meson setup --prefix=/usr          \
    --buildtype=release    \
    --wrap-mode=nofallback \
    -D python3=false       \
    ..                     
    ninja
    sed "/docs_dir =/s@\$@/ 'libpeas-$version'@" \
    -i ../docs/reference/meson.build       
    meson configure -D gtk_doc=true            
    ninja
    DESTDIR=$PKG ninja install
}
