# description   : Boost provides a set of free peer-reviewed portable C++ source libraries
# depends       : whichalternatives

name=boost
version=1.88.0    
release=1
source="https://github.com/boostorg/boost/releases/download/boost-$version/boost-$version-b2-nodocs.tar.xz"

options="!checksum"

build() {
    cd $name-$version
    
    case $(uname -m) in
    i?86)
    sed -e "s/defined(__MINGW32__)/ || defined(__i386__)/" \
    -i ./libs/stacktrace/src/exception_headers.h ;;
    esac
    ./bootstrap.sh --prefix=/usr --with-python=python3 
    ./b2 stage -j
    threading=multi link=shared
    rm -rf /usr/lib/cmake/[Bb]oost*
    ./b2 install threading=multi link=shared
}
