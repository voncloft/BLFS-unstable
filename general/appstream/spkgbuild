# description   : The AppStream package contains a library and tool that is useful for retrieving software metadata and making it easily accessible to programs which need it
# depends       : curl itstool libxml2 libxmlb libyaml

name=appstream
version=1.0.5    
release=1
source="https://www.freedesktop.org/software/appstream/releases/AppStream-$version.tar.xz"

options="!checksum"

build() {
    cd $name-$version
    
    mkdir build 
    cd    build 
    meson setup --prefix=/usr       \
    --buildtype=release \
    -D apidocs=false    \
    -D stemming=false   .. 
    ninja
    DESTDIR=$PKG ninja install 
    mv -v /usr/share/doc/appstream{,-$version}
    install -vdm755 /usr/share/metainfo 
cat > $PKG/usr/share/metainfo/org.linuxfromscratch.lfs.xml << EOF
    <?xml version="1.0" encoding="UTF-8"?>
    <component type="operating-system">
    <id>org.linuxfromscratch.lfs</id>
    <name>Linux From Scratch</name>
    <summary>A customized Linux system built entirely from source</summary>
    <description>
    <p>
    Linux From Scratch (LFS) is a project that provides you with
    step-by-step instructions for building your own customized Linux
    system entirely from source.
    </p>
    </description>
    <url type="homepage">https://www.linuxfromscratch.org/lfs/</url>
    <metadata_license>MIT</metadata_license>
    <developer id='linuxfromscratch.org'>
    <name>The Linux From Scratch Editors</name>
    </developer>
    <releases>
    <release version="r12.3-1173" type="development" date="2025-08-07">
    <description>
    <p>The development snapshot of the next LFS version.</p>
    </description>
    </release>
    <release version="12.3" type="stable" date="2025-03-05">
    <description>
    <p>Now contains Binutils 2.44, GCC-14.2.0, Glibc-2.41, and
    Linux Kernel 6.13, and three security updates.</p>
    </description>
    </release>
    <release version="12.2" type="stable" date="2024-09-01">
    <description>
    <p>Now contains Binutils 2.43.1, GCC-14.2.0, Glibc-2.40,
    and Linux kernel 6.10.</p>
    </description>
    </release>
    </releases>
    </component>
EOF
}
