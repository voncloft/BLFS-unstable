# description   : The cURL package contains a utility and a library used for transferring files with URL syntax to any of the following protocols: DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTSP, SMB, SMBS, SMTP, SMPTS, TELNET, and TFTP
# depends       : libpsl makeca

name=curl
version=8.15.0    
release=1
source="https://curl.se/download/curl-$version.tar.xz"

options="!checksum"

build() {
    cd $name-$version
    
    ./configure --prefix=/usr    \
    --disable-static \
    --with-openssl   \
    --with-ca-path=/etc/ssl/certs 
    make
    make DESTDIR=$PKG install 
    rm -rf docs/examples/.deps 
    find docs \( -name Makefile\* -o  \
    -name \*.1       -o  \
    -name \*.3       -o  \
    -name CMakeLists.txt \) -delete 
    cp -v -R docs -T /usr/share/doc/curl-$version
}
