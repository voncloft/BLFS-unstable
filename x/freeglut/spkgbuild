# description   : Freeglut is intended to be a 100% compatible, completely opensourced clone of the GLUT library
# depends       : cmake mesa glu

name=freeglut
version=3.6.0    
release=1
source="https://downloads.sourceforge.net/freeglut/freeglut-$version.tar.gz"

options="!checksum"

build() {
    cd $name-$version
    
    sed -e '/Context/s/()/(SFG_PlatformDisplay, SFG_WindowContextType)/' \
    -i src/egl/fg_init_egl.h
    mkdir build 
    cd    build 
    cmake -D CMAKE_INSTALL_PREFIX=/usr        \
    -D CMAKE_BUILD_TYPE=Release         \
    -D CMAKE_POLICY_VERSION_MINIMUM=3.5 \
    -D FREEGLUT_BUILD_DEMOS=OFF         \
    -D FREEGLUT_BUILD_STATIC_LIBS=OFF   \
    -W no-dev .. 
    make
    make DESTDIR=$PKG install
}
