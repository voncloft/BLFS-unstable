# description   : Openbox is a highly configurable desktop window manager with extensive standards support
# depends       : agraphical environment pango

name=openbox
version=3.6.1    
release=1
source="http://openbox.org/dist/openbox/openbox-$version.tar.gz
https://www.linuxfromscratch.org/patches/blfs/svn/openbox-$version-py3-1.patch
https://ftp.debian.org/debian/pool/main/n/numlockx/numlockx_1.2.orig.tar.gz"

options="!checksum"

build() {
    cd $name-$version
    
    export LIBRARY_PATH=$XORG_PREFIX/lib
    patch -Np1 -i ../openbox-$version-py3-1.patch
    autoreconf -fi 
    ./configure --prefix=/usr     \
    --sysconfdir=/etc \
    --disable-static  \
    --docdir=/usr/share/doc/openbox-$version 
    make
    cp -rf /etc/xdg/openbox ~/.config
    ls -d /usr/share/themes/*/openbox-3 | sed 's#.*es/##;s#/o.*##'
    echo openbox > ~/.xinitrc
cat > $PKG~/.xinitrc << "EOF"
EOF
cat > $PKG~/.xinitrc << "EOF"
EOF
cat > $PKG~/.xinitrc << "EOF"
EOF
    make DESTDIR=$PKG install
    rm -v /usr/share/xsessions/openbox-{gnome,kde}.desktop
}
