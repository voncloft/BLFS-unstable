# description   : Xorg's ancestor (X11R1, in 1987) at first only provided bitmap fonts, with a tool (bdftopcf) to assist in their installation
# depends       : xorg fonts

name=xorg legacy
version=
release=1
source=""

options="!checksum"

build() {
    cd $name-$version
    
cat > $PKGlegacy.dat << "EOF"
EOF
    mkdir legacy 
    cd    legacy 
    grep -v '^#' ../legacy.dat | awk '{print $2$3}' | wget -i- -c \
    -B https://www.x.org/pub/individual/ 
    grep -v '^#' ../legacy.dat | awk '{print $1 " " $3}' > ../legacy.md5 
    md5sum -c ../legacy.md5
    as_root()
    {
    if   [ $EUID = 0 ];        then $*
    elif [ -x /usr/bin/sudo ]; then sudo $*
    else                            su -c \\"$*\\"
    fi
}
export -f as_root
bash -e
for package in $(grep -v '^#' ../legacy.md5 | awk '{print $2}')
do
packagedir=${package%.tar.?z*}
tar -xf $package
pushd $packagedir
./configure $XORG_CONFIG
make
as_root make install
popd
rm -rf $packagedir
as_root /sbin/ldconfig
done
exit
}
