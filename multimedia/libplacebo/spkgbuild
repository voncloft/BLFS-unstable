# description   : The libplacebo package contains a library for processing image and video primitives and shaders
# depends       : glad glslang vulkanloader

name=libplacebo
version=7.351.0    
release=1
source="https://github.com/haasn/libplacebo/archive/v$version/libplacebo-$version.tar.gz"

options="!checksum"

build() {
    cd $name-$version
    
    sed -e '204a\    tree = ET.parse(xmlfile)'                 \
    -e 's/VkXML(ET.parse(xmlfile))/VkXML(tree.getroot())/' \
    -i src/vulkan/utils_gen.py
    mkdir build 
    cd    build 
    meson setup ..            \
    --prefix=/usr       \
    --buildtype=release \
    -D tests=true       \
    -D demos=false      
    ninja
    DESTDIR=$PKG ninja install
}
